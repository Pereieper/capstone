<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Registration</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="registration-content ion-padding">
  <ion-list>
    <!-- Name fields with floating labels -->
    <ion-item>
      <ion-label position="floating">First Name</ion-label>
      <ion-input [(ngModel)]="firstName"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Middle Name</ion-label>
      <ion-input [(ngModel)]="middleName"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Last Name</ion-label>
      <ion-input [(ngModel)]="lastName"></ion-input>
    </ion-item>

    <!-- <ion-item>
      <ion-label position="floating">Date of Birth</ion-label>
      <ion-datetime
        presentation="date"
        [(ngModel)]="dob"
        placeholder="Select Date">
      </ion-datetime>
    </ion-item> -->
    <ion-item>
  <ion-label position="floating">Date of Birth</ion-label>
  <ion-datetime 
    display-format="MMM DD, YYYY" 
    picker-format="MMM DD YYYY" 
    [(ngModel)]="dob" 
    done-text="Done" 
    cancel-text="Cancel">
  </ion-datetime>
</ion-item>



    <ion-item>
      <ion-label>Gender</ion-label>
      <ion-select [(ngModel)]="gender" interface="popover">
        <ion-select-option value="Male">Male</ion-select-option>
        <ion-select-option value="Female">Female</ion-select-option>
        <ion-select-option value="Other">Other</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label>Civil Status</ion-label>
      <ion-select [(ngModel)]="civilStatus" interface="popover">
        <ion-select-option value="Single">Single</ion-select-option>
        <ion-select-option value="Married">Married</ion-select-option>
        <ion-select-option value="Widowed">Widowed</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Contact Number</ion-label>
      <ion-input [(ngModel)]="contact" type="tel" maxlength="11"></ion-input>
    </ion-item>

    <!-- Address group as grid -->
    <div class="address-group">
      <ion-item>
        <ion-label position="floating">Purok / Zone</ion-label>
        <ion-input [(ngModel)]="purok"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Barangay</ion-label>
        <ion-input [(ngModel)]="barangay"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">City / Municipality</ion-label>
        <ion-input [(ngModel)]="city"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Province</ion-label>
        <ion-input [(ngModel)]="province"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Postal Code</ion-label>
        <ion-input [(ngModel)]="postalCode" type="number"></ion-input>
      </ion-item>
    </div>

    <!-- Password and confirm -->
    <ion-item>
      <ion-label position="floating">Password</ion-label>
      <ion-input
        [type]="showPassword ? 'text' : 'password'"
        [(ngModel)]="password"
        (ionInput)="validatePassword()">
      </ion-input>
      <ion-button fill="clear" slot="end" (click)="togglePasswordVisibility()">
        <ion-icon [name]="showPassword ? 'eye-off' : 'eye'"></ion-icon>
      </ion-button>
    </ion-item>
    <ion-note *ngIf="passwordError" color="danger" class="ion-padding-start">
      Password must be at least 8 characters, including uppercase, lowercase, and special character.
    </ion-note>

    <ion-item>
      <ion-label position="floating">Confirm Password</ion-label>
      <ion-input
        [type]="showConfirm ? 'text' : 'password'"
        [(ngModel)]="confirmPassword">
      </ion-input>
      <ion-button fill="clear" slot="end" (click)="toggleConfirmVisibility()">
        <ion-icon [name]="showConfirm ? 'eye-off' : 'eye'"></ion-icon>
      </ion-button>
    </ion-item>
    <ion-note *ngIf="confirmError" color="danger" class="ion-padding-start">
      Passwords do not match.
    </ion-note>

    <!-- Camera photo -->
    <ion-button expand="block" color="medium" (click)="takePhoto()" class="ion-margin-top">
      <ion-icon slot="start" name="camera-outline"></ion-icon>
      Take Photo
    </ion-button>

    <ion-thumbnail *ngIf="photo" class="ion-margin-top ion-text-center">
      <img [src]="photo" alt="User photo" />
    </ion-thumbnail>

    <ion-button expand="block" color="primary" (click)="register()" class="ion-margin-top">
      Register
    </ion-button>
  </ion-list>

  <div class="ion-text-center ion-margin-top">
    <p>Already have an account?
      <a (click)="goToLogin()" class="link">Sign in</a>
    </p>
  </div>
</ion-content>
