"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3901],{3901:(P,u,l)=>{l.r(u),l.d(u,{ProfilePage:()=>E});var c=l(467),o=l(9420),g=l(2200),_=l(4341),n=l(3664),d=l(8728),m=l(1815),M=l(8880);const p=()=>({"non-editable":!0}),f=s=>({"edit-gray":s}),C=s=>({"edit-blue":s});function h(s,b){if(1&s){const t=n.RV6();n.j41(0,"div",16)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),n.EFF(4,"Edit Contact Number"),n.k0s()(),n.j41(5,"ion-card-content")(6,"ion-input",17),n.mxI("ngModelChange",function(e){d.eBV(t);const a=n.XpG();return n.DH7(a.user.contact,e)||(a.user.contact=e),d.Njj(e)}),n.k0s(),n.j41(7,"ion-button",18),n.bIt("click",function(){d.eBV(t);const e=n.XpG();return d.Njj(e.closeModal())}),n.EFF(8,"Save"),n.k0s()()()()}if(2&s){const t=n.XpG();n.R7$(6),n.R50("ngModel",t.user.contact)}}let E=(()=>{class s{constructor(t,r,e){this.registrationService=t,this.toastCtrl=r,this.navCtrl=e,this.user={},this.isEditing=!1,this.isContactModalOpen=!1}goBack(){this.navCtrl.back()}ionViewWillEnter(){this.user=this.registrationService.getCurrentUser()}toggleEdit(){var t=this;return(0,c.A)(function*(){t.isEditing=!t.isEditing,t.isEditing||(yield t.registrationService.updateUser(t.user),t.presentToast("\u2705 Changes saved successfully.","success"))})()}openContactModal(){this.isEditing&&(this.isContactModalOpen=!0)}closeModal(){this.isContactModalOpen=!1}updateContactNumber(t){this.user.contact=t,this.closeModal(),this.presentToast("\u{1f4f1} Contact number updated!","success")}presentToast(t,r){var e=this;return(0,c.A)(function*(){yield(yield e.toastCtrl.create({message:t,duration:2e3,position:"top",color:r})).present()})()}static#n=this.\u0275fac=function(r){return new(r||s)(n.rXU(m.f),n.rXU(o.K_),n.rXU(M.q9))};static#e=this.\u0275cmp=n.VBU({type:s,selectors:[["app-profile"]],decls:60,vars:31,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["slot","end"],[1,"ion-padding"],["position","stacked"],["readonly","",3,"ngModelChange","ngModel","ngClass"],[3,"ngModelChange","ngModel","readonly","ngClass"],[3,"ngModelChange","ngModel","disabled"],["value","Male"],["value","Female"],["display-format","MMM DD, YYYY",3,"ngModelChange","ngModel","readonly"],[3,"click","button"],[3,"ngModelChange","ngModel","readonly"],["readonly","",3,"value"],["class","contact-modal",4,"ngIf"],[1,"contact-modal"],["type","tel",3,"ngModelChange","ngModel"],["expand","block",3,"click"]],template:function(r,e){1&r&&(n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),n.bIt("click",function(){return e.goBack()}),n.nrm(4,"ion-icon",2),n.k0s()(),n.j41(5,"ion-title"),n.EFF(6,"Profile Information"),n.k0s(),n.j41(7,"ion-buttons",3)(8,"ion-button",1),n.bIt("click",function(){return e.toggleEdit()}),n.EFF(9),n.k0s()()()(),n.j41(10,"ion-content",4)(11,"ion-item")(12,"ion-label",5),n.EFF(13,"First Name"),n.k0s(),n.j41(14,"ion-input",6),n.mxI("ngModelChange",function(i){return n.DH7(e.user.firstName,i)||(e.user.firstName=i),i}),n.k0s()(),n.j41(15,"ion-item")(16,"ion-label",5),n.EFF(17,"Middle Name"),n.k0s(),n.j41(18,"ion-input",7),n.mxI("ngModelChange",function(i){return n.DH7(e.user.middleName,i)||(e.user.middleName=i),i}),n.k0s()(),n.j41(19,"ion-item")(20,"ion-label",5),n.EFF(21,"Last Name"),n.k0s(),n.j41(22,"ion-input",6),n.mxI("ngModelChange",function(i){return n.DH7(e.user.lastName,i)||(e.user.lastName=i),i}),n.k0s()(),n.j41(23,"ion-item")(24,"ion-label",5),n.EFF(25,"Gender"),n.k0s(),n.j41(26,"ion-select",8),n.mxI("ngModelChange",function(i){return n.DH7(e.user.gender,i)||(e.user.gender=i),i}),n.j41(27,"ion-select-option",9),n.EFF(28,"Male"),n.k0s(),n.j41(29,"ion-select-option",10),n.EFF(30,"Female"),n.k0s()()(),n.j41(31,"ion-item")(32,"ion-label",5),n.EFF(33,"Date of Birth"),n.k0s(),n.j41(34,"ion-datetime",11),n.mxI("ngModelChange",function(i){return n.DH7(e.user.dob,i)||(e.user.dob=i),i}),n.k0s()(),n.j41(35,"ion-item",12),n.bIt("click",function(){return e.isEditing&&e.openContactModal()}),n.j41(36,"ion-label",5),n.EFF(37,"Contact Number"),n.k0s(),n.j41(38,"ion-input",6),n.mxI("ngModelChange",function(i){return n.DH7(e.user.contact,i)||(e.user.contact=i),i}),n.k0s()(),n.j41(39,"ion-item")(40,"ion-label",5),n.EFF(41,"Purok"),n.k0s(),n.j41(42,"ion-input",13),n.mxI("ngModelChange",function(i){return n.DH7(e.user.purok,i)||(e.user.purok=i),i}),n.k0s()(),n.j41(43,"ion-item")(44,"ion-label",5),n.EFF(45,"Barangay"),n.k0s(),n.j41(46,"ion-input",13),n.mxI("ngModelChange",function(i){return n.DH7(e.user.barangay,i)||(e.user.barangay=i),i}),n.k0s()(),n.j41(47,"ion-item")(48,"ion-label",5),n.EFF(49,"City"),n.k0s(),n.j41(50,"ion-input",13),n.mxI("ngModelChange",function(i){return n.DH7(e.user.city,i)||(e.user.city=i),i}),n.k0s()(),n.j41(51,"ion-item")(52,"ion-label",5),n.EFF(53,"Province"),n.k0s(),n.j41(54,"ion-input",13),n.mxI("ngModelChange",function(i){return n.DH7(e.user.province,i)||(e.user.province=i),i}),n.k0s()(),n.j41(55,"ion-item")(56,"ion-label",5),n.EFF(57,"Password"),n.k0s(),n.nrm(58,"ion-input",14),n.k0s()(),n.DNE(59,h,9,1,"div",15)),2&r&&(n.R7$(9),n.SpI(" ",e.isEditing?"Save":"Edit"," "),n.R7$(5),n.R50("ngModel",e.user.firstName),n.Y8G("ngClass",n.lJ4(25,p)),n.R7$(4),n.R50("ngModel",e.user.middleName),n.Y8G("readonly",!e.isEditing)("ngClass",n.eq3(26,f,e.isEditing)),n.R7$(4),n.R50("ngModel",e.user.lastName),n.Y8G("ngClass",n.lJ4(28,p)),n.R7$(4),n.R50("ngModel",e.user.gender),n.Y8G("disabled",!e.isEditing),n.R7$(8),n.R50("ngModel",e.user.dob),n.Y8G("readonly",!e.isEditing),n.R7$(),n.Y8G("button",e.isEditing),n.R7$(3),n.R50("ngModel",e.user.contact),n.Y8G("ngClass",n.eq3(29,C,e.isEditing)),n.R7$(4),n.R50("ngModel",e.user.purok),n.Y8G("readonly",!e.isEditing),n.R7$(4),n.R50("ngModel",e.user.barangay),n.Y8G("readonly",!e.isEditing),n.R7$(4),n.R50("ngModel",e.user.city),n.Y8G("readonly",!e.isEditing),n.R7$(4),n.R50("ngModel",e.user.province),n.Y8G("readonly",!e.isEditing),n.R7$(4),n.Y8G("value","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"),n.R7$(),n.Y8G("ngIf",e.isContactModalOpen))},dependencies:[o.bv,o.Jm,o.QW,o.b_,o.I9,o.ME,o.tN,o.W9,o.A9,o.eU,o.iq,o.$w,o.uz,o.he,o.Nm,o.Ip,o.BC,o.ai,o.Je,o.Gw,g.MD,g.YU,g.bT,_.YN,_.BC,_.vS],styles:["ion-item[_ngcontent-%COMP%]{--background: #f9f9f9;--padding-start: 12px;--inner-padding-end: 12px;--border-radius: 10px;--highlight-height: 0;margin-bottom:12px;box-shadow:0 1px 3px #0000000d;transition:background .3s}ion-label[_ngcontent-%COMP%]{font-weight:500;color:#444;font-size:14px}ion-input[_ngcontent-%COMP%]{font-size:15px;color:#000;transition:color .3s,border .3s;border-bottom:1px solid transparent}ion-input[readonly][_ngcontent-%COMP%]{color:#999;border-bottom:1px dashed #ccc}ion-input.editable[_ngcontent-%COMP%]{color:#007bff;border-bottom:1px solid #007bff}.contact-highlight[_ngcontent-%COMP%]{color:#28a745;font-weight:700}.edit-mode[_ngcontent-%COMP%]{background:#e8f4ff!important}ion-button[_ngcontent-%COMP%]{margin-top:20px}"]})}return s})()}}]);