"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3030],{3030:(b,d,r)=>{r.r(d),r.d(d,{RequestDocumentPage:()=>M});var a=r(467),m=r(2200),g=r(4341),s=r(9420),e=r(3664),l=r(8728),h=r(8880),f=r(8492);let _=(()=>{class o{constructor(t){this.storage=t,this.STORAGE_KEY="documentRequests",this.init()}init(){var t=this;return(0,a.A)(function*(){yield t.storage.create()})()}addRequest(t){var i=this;return(0,a.A)(function*(){const n=yield i.getAllRequests();n.push(t),yield i.storage.set(i.STORAGE_KEY,n)})()}getAllRequests(){var t=this;return(0,a.A)(function*(){return(yield t.storage.get(t.STORAGE_KEY))||[]})()}clearAll(){var t=this;return(0,a.A)(function*(){yield t.storage.remove(t.STORAGE_KEY)})()}static#e=this.\u0275fac=function(i){return new(i||o)(l.KVO(f.w))};static#t=this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function C(o,p){if(1&o&&(e.j41(0,"ion-select-option",15),e.EFF(1),e.k0s()),2&o){const t=p.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function O(o,p){if(1&o&&(e.j41(0,"ion-select-option",15),e.EFF(1),e.k0s()),2&o){const t=p.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function P(o,p){if(1&o){const t=e.RV6();e.j41(0,"div",16)(1,"ion-label",6),e.EFF(2,"Enter your purpose*"),e.k0s(),e.j41(3,"ion-item")(4,"ion-input",17),e.mxI("ngModelChange",function(n){l.eBV(t);const u=e.XpG();return e.DH7(u.customPurpose,n)||(u.customPurpose=n),l.Njj(n)}),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(4),e.R50("ngModel",t.customPurpose)}}function R(o,p){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"ion-label",6),e.EFF(2,"Number of Copies*"),e.k0s(),e.j41(3,"ion-item")(4,"ion-input",18),e.mxI("ngModelChange",function(n){l.eBV(t);const u=e.XpG();return e.DH7(u.numberOfCopies,n)||(u.numberOfCopies=n),l.Njj(n)}),e.k0s()(),e.j41(5,"ion-label",6),e.EFF(6,"Requirements*"),e.k0s(),e.j41(7,"div",19),e.nrm(8,"img",20),e.j41(9,"p"),e.EFF(10,"Upload your requirement here"),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(4),e.R50("ngModel",t.numberOfCopies)}}let M=(()=>{class o{constructor(t,i,n){this.navCtrl=t,this.requestService=i,this.alertCtrl=n,this.documentType="",this.purpose="",this.customPurpose="",this.numberOfCopies=1,this.requirements="",this.photo="",this.dateNow="",this.timeNow="",this.documentOptions=["Barangay Clearance","Certificate of Residency","Certificate of Indigency","Barangay ID","Other"],this.purposeOptions=["Employment","School Requirement","Financial Assistance","Personal Use","Others"]}ngOnInit(){const t=new Date;this.dateNow=t.toLocaleDateString(),this.timeNow=t.toLocaleTimeString()}onCancel(){this.navCtrl.back()}onContinue(){var t=this;return(0,a.A)(function*(){if("Others"===t.purpose&&!t.customPurpose.trim())return void alert("Please specify your purpose.");if(t.numberOfCopies<1)return void alert("Number of copies must be at least 1.");const n={documentType:t.documentType,purpose:"Others"===t.purpose?t.customPurpose:t.purpose,copies:t.numberOfCopies,requirements:t.requirements,photo:t.photo,timestamp:(new Date).toISOString()};yield t.requestService.addRequest(n),yield(yield t.alertCtrl.create({header:"Success",message:"Your request has been submitted.",buttons:["OK"]})).present(),t.resetForm()})()}resetForm(){this.documentType="",this.purpose="",this.customPurpose="",this.numberOfCopies=1,this.requirements="",this.photo=""}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(h.q9),e.rXU(_),e.rXU(s.hG))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-request-document"]],decls:30,vars:10,consts:[[3,"translucent"],[1,"request-document-content",3,"fullscreen"],[1,"timestamp"],[1,"date-time"],[1,"form-section"],[1,"instruction"],[1,"label-muted"],["placeholder","--Please select document--",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","--Please select purpose--",3,"ngModelChange","ngModel"],["class","custom-input",4,"ngIf"],[4,"ngIf"],[1,"btn-group"],["expand","block","fill","outline","color","medium",3,"click"],["expand","block",3,"click"],[3,"value"],[1,"custom-input"],["placeholder","Type your purpose here...",3,"ngModelChange","ngModel"],["type","number","min","1","placeholder","Enter number of copies",3,"ngModelChange","ngModel"],[1,"upload-box"],["src","assets/img/photo-placeholder.png","alt","Upload Placeholder",1,"upload-photo"]],template:function(i,n){1&i&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Request Document"),e.k0s()()(),e.j41(4,"ion-content",1)(5,"div",2)(6,"p",3),e.EFF(7),e.k0s()(),e.j41(8,"div",4)(9,"h2"),e.EFF(10,"Request Document"),e.k0s(),e.j41(11,"p",5),e.EFF(12,"Please fill out the form below to submit your request."),e.k0s(),e.j41(13,"ion-label",6),e.EFF(14,"Request Document for*"),e.k0s(),e.j41(15,"ion-item")(16,"ion-select",7),e.mxI("ngModelChange",function(c){return e.DH7(n.documentType,c)||(n.documentType=c),c}),e.DNE(17,C,2,2,"ion-select-option",8),e.k0s()(),e.j41(18,"ion-label",6),e.EFF(19,"Purpose*"),e.k0s(),e.j41(20,"ion-item")(21,"ion-select",9),e.mxI("ngModelChange",function(c){return e.DH7(n.purpose,c)||(n.purpose=c),c}),e.DNE(22,O,2,2,"ion-select-option",8),e.k0s()(),e.DNE(23,P,5,1,"div",10)(24,R,11,1,"div",11),e.j41(25,"div",12)(26,"ion-button",13),e.bIt("click",function(){return n.onCancel()}),e.EFF(27,"Cancel"),e.k0s(),e.j41(28,"ion-button",14),e.bIt("click",function(){return n.onContinue()}),e.EFF(29,"Request"),e.k0s()()()()),2&i&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(3),e.Lme("",n.dateNow," | ",n.timeNow),e.R7$(9),e.R50("ngModel",n.documentType),e.R7$(),e.Y8G("ngForOf",n.documentOptions),e.R7$(4),e.R50("ngModel",n.purpose),e.R7$(),e.Y8G("ngForOf",n.purposeOptions),e.R7$(),e.Y8G("ngIf","Others"===n.purpose),e.R7$(),e.Y8G("ngIf","Others"!==n.purpose&&""!==n.purpose))},dependencies:[m.MD,m.Sq,m.bT,g.YN,g.BC,g.vS,s.bv,s.Jm,s.W9,s.eU,s.$w,s.uz,s.he,s.Nm,s.Ip,s.BC,s.ai,s.su,s.Je,s.Gw,s.T6],styles:[".request-document-content[_ngcontent-%COMP%]{padding:16px}.request-document-content[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{text-align:right;font-size:14px;color:#888}.request-document-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;margin-top:10px}.request-document-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .instruction[_ngcontent-%COMP%]{color:gray;font-size:14px;margin-bottom:10px}.request-document-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .label-muted[_ngcontent-%COMP%]{margin-top:16px;font-size:14px;color:gray}.request-document-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .custom-input[_ngcontent-%COMP%]{margin-top:10px}.request-document-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .upload-box[_ngcontent-%COMP%]{margin-top:12px;border:1px dashed #ccc;border-radius:10px;padding:16px;text-align:center}.request-document-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .upload-box[_ngcontent-%COMP%]   .upload-photo[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:contain;margin-bottom:8px}.request-document-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;gap:10px}"]})}return o})()}}]);